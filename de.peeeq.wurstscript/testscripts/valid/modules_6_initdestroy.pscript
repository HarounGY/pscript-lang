package test {
		
	native testFail(string msg)
	native testSuccess()


	string s = ""

	module A {
		
		construct() {
			s = s + "A" 
		}
		
		ondestroy {
			s = s + "a"
		}
		
	}
	
	module B {
		use A
		
		construct() {
			s = s + "B"
		}
		
		ondestroy {
			s = s + "b"
		}
		
	}
	
	class C {
		use B
		
		construct() {
			s = s + "C"
		}
		
		ondestroy {
			s = s + "c"
		}
		
		
	}		
	
	
	
	init {
		C c = new C()
		
		destroy c
		
		if s != "ABCcba" {
			testFail("fail")
		} 
			
		testSuccess()
	}
}
